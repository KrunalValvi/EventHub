<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Summary - EventHub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body class="bg-light">
    <div class="container py-4">
        <div class="d-flex justify-content-between align-items-start mb-4">
            <div class="d-flex align-items-center">
                <a href="seat-selection.html" class="btn btn-link text-dark p-0 me-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                    </svg>
                </a>
                <div>
                    <h4 class="mb-0">Avengers: Endgame</h4>
                    <small class="text-muted">PVR Cinemas - Screen 3 | Today, 7:30 PM</small>
                </div>
            </div>
            <div class="text-end">
                <small class="text-muted">Select Seats</small>
                <div>2 of 8 selected</div>
            </div>
        </div>

        <h2 class="mb-2">Order Summary</h2>
        <p class="text-muted mb-4">Review your booking details before payment</p>

        <div class="row g-4">
            <div class="col-lg-7">
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-4">Booking Details</h5>
                        <div class="d-flex gap-3 mb-4">
                            <img src="../images/Avengers Endgame.jpg" alt="Avengers: Endgame" style="width: 80px; height: 120px; border-radius: 8px; flex-shrink: 0; object-fit: cover;">
                            <div>
                                <h6 class="mb-1">Avengers: Endgame</h6>
                                <p class="text-muted small mb-2">Action, Adventure, Drama</p>
                                <div class="small">
                                    <div class="mb-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                                            <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
                                            <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                                        </svg>
                                        Saturday, March 15, 2025
                                    </div>
                                    <div class="mb-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                                            <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                                        </svg>
                                        7:30 PM
                                    </div>
                                    <div>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                                            <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
                                            <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                                        </svg>
                                        Cineplex Downtown, Screen 3
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h6 class="mb-2">Selected Seats</h6>
                            <div class="d-flex gap-2 mb-2">
                                <span class="badge bg-secondary">F-12</span>
                                <span class="badge bg-secondary">F-13</span>
                                <span class="badge bg-secondary">F-14</span>
                            </div>
                            <small class="text-muted">3 tickets × $15.00</small>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-4">Food & Beverages</h5>
                        
                        <div class="d-flex align-items-center justify-content-between mb-3 pb-3 border-bottom">
                            <div class="d-flex align-items-center gap-3">
                                <img src="../images/Large Popcorn.jpg" alt="Large Popcorn" style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;">
                                <div>
                                    <h6 class="mb-0">Large Popcorn</h6>
                                    <small class="text-muted">Classic buttered popcorn</small>
                                    <div class="fw-bold">$8.50</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity('popcorn', -1)">-</button>
                                <span id="popcorn-qty" class="px-2">1</span>
                                <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity('popcorn', 1)">+</button>
                            </div>
                        </div>

                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <img src="../images/Large Soda.jpg" alt="Large Soda" style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;">
                                <div>
                                    <h6 class="mb-0">Large Soda</h6>
                                    <small class="text-muted">Coca-Cola, Pepsi, Sprite</small>
                                    <div class="fw-bold">$6.00</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity('soda', -1)">-</button>
                                <span id="soda-qty" class="px-2">2</span>
                                <button class="btn btn-sm btn-outline-secondary" onclick="updateQuantity('soda', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-5">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title mb-4">Billing Summary</h5>
                        
                        <div class="d-flex justify-content-between mb-2">
                            <span>Movie Tickets (3x)</span>
                            <span id="ticket-total">$45.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Large Popcorn (<span id="popcorn-count">1</span>x)</span>
                            <span id="popcorn-total">$8.50</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3 pb-3 border-bottom">
                            <span>Large Soda (<span id="soda-count">2</span>x)</span>
                            <span id="soda-total">$12.00</span>
                        </div>

                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal</span>
                            <span id="subtotal">$65.50</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Booking Fee</span>
                            <span>$3.50</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3 pb-3 border-bottom">
                            <span>GST (13%)</span>
                            <span id="gst">$8.97</span>
                        </div>

                        <div class="d-flex justify-content-between mb-0">
                            <h5 class="mb-0">Total Amount</h5>
                            <h5 class="mb-0" id="total-amount">$77.97</h5>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-body">
                        <h6 class="card-title mb-3">Apply Promo Code</h6>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Enter promo code" id="promoInput">
                            <button class="btn btn-dark" type="button">Apply</button>
                        </div>
                    </div>
                </div>

                <a href="booking-confirmation.html" class="btn btn-dark btn-lg w-100 mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill me-2" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                    </svg>
                    Confirm & Pay <span id="pay-amount">$77.97</span>
                </a>
                <p class="text-center small text-muted mb-0">By proceeding, you agree to our Terms & Conditions</p>
            </div>
        </div>

        <footer class="text-center mt-5 py-3 border-top">
            <small class="text-muted">© 2025 TicketHub. All rights reserved.</small>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const prices = {
            ticket: 15.00,
            popcorn: 8.50,
            soda: 6.00
        };

        let quantities = {
            tickets: 3,
            popcorn: 1,
            soda: 2
        };

        const bookingFee = 3.50;
        const gstRate = 0.13;

        function updateQuantity(item, change) {
            quantities[item] = Math.max(0, quantities[item] + change);
            updateBilling();
        }

        function updateBilling() {
            const ticketTotal = quantities.tickets * prices.ticket;
            const popcornTotal = quantities.popcorn * prices.popcorn;
            const sodaTotal = quantities.soda * prices.soda;
            const subtotal = ticketTotal + popcornTotal + sodaTotal;
            const gst = subtotal * gstRate;
            const total = subtotal + bookingFee + gst;

            document.getElementById('popcorn-qty').textContent = quantities.popcorn;
            document.getElementById('soda-qty').textContent = quantities.soda;
            
            document.getElementById('ticket-total').textContent = `$${ticketTotal.toFixed(2)}`;
            document.getElementById('popcorn-total').textContent = `$${popcornTotal.toFixed(2)}`;
            document.getElementById('soda-total').textContent = `$${sodaTotal.toFixed(2)}`;
            document.getElementById('popcorn-count').textContent = quantities.popcorn;
            document.getElementById('soda-count').textContent = quantities.soda;
            
            document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('gst').textContent = `$${gst.toFixed(2)}`;
            document.getElementById('total-amount').textContent = `$${total.toFixed(2)}`;
            document.getElementById('pay-amount').textContent = `$${total.toFixed(2)}`;
        }

        updateBilling();
    </script>
</body>
</html>
